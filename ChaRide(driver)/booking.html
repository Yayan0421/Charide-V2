<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Charide | Bookings</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
*{
	margin:0;
	padding:0;
	box-sizing:border-box;
	font-family:'Inter', sans-serif;
}

body{
	background:#f4f4f4;
	color:#1f2937;
}

.app{
	display:flex;
	min-height:100vh;
	margin-left:280px;
}

/* SIDEBAR */
.sidebar{
	position:fixed;
	top:0;
	left:0;
	height:100vh;
	width:280px;
	background:linear-gradient(180deg, #0aa812 0%, #078c0f 100%);
	color:#fff;
	display:flex;
	flex-direction:column;
	padding:0;
	box-shadow:4px 0 12px rgba(10, 168, 18, 0.2);
	overflow-y:auto;
	transition:width 0.3s ease;
}

.sidebar-header{
	padding:30px 20px;
	display:flex;
	align-items:center;
	gap:12px;
	border-bottom:2px solid rgba(255, 255, 255, 0.1);
}

.sidebar-logo{
	width:48px;
	height:48px;
	object-fit:contain;
	border-radius:50%;
	background:white;
	padding:4px;
}

.sidebar-title{
	font-size:24px;
	font-weight:700;
	color:#ffffff;
	white-space:nowrap;
}

.sidebar-toggle{
	margin-left:auto;
	background:rgba(255, 255, 255, 0.18);
	border:none;
	color:#fff;
	width:36px;
	height:36px;
	border-radius:10px;
	cursor:pointer;
	font-size:18px;
	display:flex;
	align-items:center;
	justify-content:center;
	transition:transform 0.3s ease, background 0.3s ease;
}

.sidebar-links{
	flex:1;
	padding:20px 0;
	display:flex;
	flex-direction:column;
}

.sidebar-links a{
	display:flex;
	align-items:center;
	gap:12px;
	padding:15px 20px;
	color:rgba(255, 255, 255, 0.9);
	text-decoration:none;
	transition:all 0.3s ease;
	cursor:pointer;
	font-size:15px;
	font-weight:500;
	border-left:4px solid transparent;
}

.sidebar-links a .link-text{
	flex:1;
}

.sidebar-links a:hover,
.sidebar-links a.active{
	background:rgba(255, 255, 255, 0.1);
	color:#ffffff;
	border-left-color:#ffc107;
}

.sidebar-profile{
	display:flex;
	align-items:center;
	gap:10px;
	padding:20px;
	border-bottom:2px solid rgba(255, 255, 255, 0.1);
}

.avatar{
	width:56px;
	height:56px;
	background:rgba(255, 255, 255, 0.2);
	border-radius:50%;
	display:flex;
	align-items:center;
	justify-content:center;
	font-weight:bold;
	color:#fff;
	flex-shrink:0;
	font-size:16px;
}

.profile-info{
	display:flex;
	flex-direction:column;
}

.profile-info strong{
	font-size:14px;
	color:#ffffff;
	margin:0;
	font-weight:600;
}

.profile-info small{
	font-size:12px;
	color:rgba(255, 255, 255, 0.8);
	margin:2px 0 0 0;
}

.sidebar-logout{
	display:flex;
	align-items:center;
	gap:12px;
	padding:15px 20px;
	color:rgba(255, 255, 255, 0.9);
	text-decoration:none;
	transition:all 0.3s ease;
	cursor:pointer;
	font-size:15px;
	font-weight:500;
	border-left:4px solid transparent;
	border-top:2px solid rgba(255, 255, 255, 0.1);
	margin-top:auto;
}

.sidebar-logout:hover{
	background:rgba(255, 255, 255, 0.1);
	color:#ffffff;
	border-left-color:#ff6b6b;
}

.app.is-collapsed .sidebar{
	width:90px;
}

.app.is-collapsed .sidebar-title,
.app.is-collapsed .profile-info,
.app.is-collapsed .sidebar-links a .link-text{
	display:none;
}

.app.is-collapsed .sidebar-header{
	justify-content:center;
}

.app.is-collapsed .sidebar-toggle{
	transform:rotate(180deg);
}

/* MAIN */
.content{
	flex:1;
	padding:24px 28px;
}

.page-header{
	background:#ffffff;
	border:1px solid #e5e7eb;
	border-radius:12px;
	padding:18px 22px;
	margin-bottom:16px;
}

.page-header h1{
	font-size:22px;
	margin-bottom:4px;
	color:#111827;
}

.page-header p{
	color:#6b7280;
	font-size:13px;
}

.tabs{
	display:grid;
	grid-template-columns:1fr 1fr;
	gap:16px;
	margin:14px 0 18px;
}

.tab{
	background:#ffffff;
	border:1px solid #e5e7eb;
	border-radius:10px;
	padding:10px 14px;
	display:flex;
	align-items:center;
	gap:10px;
	font-weight:600;
	color:#1f2937;
	cursor:pointer;
	appearance:none;
	outline:none;
}

.tab.active{
	box-shadow:0 2px 8px rgba(0,0,0,0.05);
}

.card{
	background:#ffffff;
	border:1px solid #e5e7eb;
	border-radius:12px;
	padding:24px;
	box-shadow:0 2px 8px rgba(0,0,0,0.06);
}

.empty-state{
	display:flex;
	align-items:center;
	justify-content:center;
	flex-direction:column;
	gap:10px;
	color:#6b7280;
	text-align:center;
	padding:20px;
}

.empty-icon{
	width:58px;
	height:58px;
	border-radius:50%;
	background:#dcfce7;
	color:#0aa812;
	display:flex;
	align-items:center;
	justify-content:center;
	font-size:22px;
	font-weight:700;
}

.empty-state h3{
	color:#374151;
	font-size:16px;
	font-weight:600;
}

.empty-state p{
	font-size:12px;
}

@media (max-width: 900px){
	.tabs{
		grid-template-columns:1fr;
	}
}

@media (max-width: 820px){
	.sidebar{
		width:90px;
	}

	.sidebar-title,
	.profile-info,
	.sidebar-links a .link-text{
		display:none;
	}

	.sidebar-header{
		justify-content:center;
	}
}
</style>
</head>
<body>

<div class="app" id="appShell">
	<aside class="sidebar">
		<div class="sidebar-header">
			<img src="logo.png" alt="Charide" class="sidebar-logo">
			<span class="sidebar-title">Charide</span>
			<button class="sidebar-toggle" id="sidebarCollapse" aria-label="Collapse sidebar">‚Äπ</button>
		</div>

		<nav class="sidebar-links">
			<a href="dashboard-driver.html">üè† <span class="link-text">Dashboard</span></a>
			<a href="message-1.html">üí¨ <span class="link-text">Messages</span></a>
			<a href="booking.html" class="active">üóìÔ∏è <span class="link-text">Bookings</span></a>
			<a href="rides-history.html">üìú <span class="link-text">Rides History</span></a>
			<a href="support-devices.html">üÜò <span class="link-text">Support</span></a>
			<a href="about-us-1.html">‚ÑπÔ∏è <span class="link-text">About Us</span></a>
			<a href="profile.html">üë§ <span class="link-text">Profile</span></a>
		</nav>

		<div class="sidebar-profile">
			<div class="avatar" id="sidebarAvatar">KR</div>
			<div class="profile-info">
				<strong id="sidebarName">Kim Ryan</strong>
				<small>Driver</small>
			</div>
		</div>

		<a href="#" class="sidebar-logout" onclick="logout(); return false;">üö™ Log Out</a>
	</aside>

	<main class="content">
		<div class="page-header">
			<h1>Bookings</h1>
			<p>Manage your ride requests and active bookings</p>
		</div>

		<div class="tabs">
			<button class="tab active" data-tab="pending">‚è∞ Pending (<span id="pendingCount">0</span>)</button>
			<button class="tab" data-tab="active">üöó Active (<span id="activeCount">0</span>)</button>
		</div>

		<div class="card" id="pendingPanel">
			<div class="empty-state" id="pendingEmpty">
				<div class="empty-icon">‚è±</div>
				<h3>No pending ride requests</h3>
				<p>New requests will appear here</p>
			</div>
			<div id="pendingList"></div>
		</div>

		<div class="card" id="activePanel" style="display:none;">
			<div class="empty-state" id="activeEmpty">
				<div class="empty-icon">üöó</div>
				<h3>No active rides</h3>
				<p>Accepted rides will show here</p>
			</div>
			<div id="activeList"></div>
		</div>
	</main>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="config.js"></script>
<script src="booking.js"></script>

</body>
</html>
